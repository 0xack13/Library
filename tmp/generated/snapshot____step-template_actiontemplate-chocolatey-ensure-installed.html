<html lang="en" ng-app="octopus-library" class="ng-scope"><head lang="en"><style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}</style>  <meta charset="UTF-8">  <meta http-equiv="X-UA-Compatible" content="IE=edge">  <meta name="viewport" content="width=device-width, initial-scale=1">  <meta name="fragment" content="!">  <title>Octopus Deploy Library</title>  <!-- inject:css -->  <link rel="stylesheet" href="app.css">  <!-- endinject -->  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"><script type="text/javascript" async="" src="//octolibrary.disqus.com/embed.js"></script></head><body>  <header>  <div class="banner">    <div class="container">      <div class="row clearfix">        <div class="column full">          <h1><a href="#!/listing">Octopus Deploy Library</a></h1>        </div>      </div>    </div>  </div></header>  <!-- ngView:  --><div ng-view="" class="content ng-scope"><section class="step-template ng-scope" tracked="">  <div class="container">    <div class="row clearfix">      <div class="column two-thirds">        <h2 class="ng-binding">Chocolatey - Ensure Installed</h2>        <p class="faint ng-binding">Octopus.Script exported 05/06/2014 by <a class="author faint ng-binding" href="https://github.com/nblumhardt">nblumhardt</a></p>        <markdown text="stepTemplate.Description" class="ng-isolate-scope"><p>Ensures that the Chocolatey package manager is installed on the system. The installer is downloaded from https://chocolatey.org if required.</p></markdown>        <h3 ng-show="stepTemplate.Body.Parameters" class="ng-hide">Parameters</h3>        <p ng-show="stepTemplate.Body.Parameters" class="tutorial ng-hide">          When steps based on the template are included in a project's deployment process, the parameters below can be set.</p>        <!-- ngRepeat: parameter in stepTemplate.Body.Parameters track by parameter.Name -->        <h3 ng-show="stepTemplate.Body.ActionType == 'Octopus.Script'" class="">Script body</h3>        <p ng-show="stepTemplate.Body.ActionType == 'Octopus.Script'" class="tutorial">          Steps based on the template will execute the following <em>PowerShell</em> script.</p>        <pre ng-show="stepTemplate.Body.ActionType == 'Octopus.Script'" class="code overflow-ellipsis PowerShell hljs powershell" highlight="PowerShell"><code ng-transclude=""><span class="ng-scope ng-binding"><span class="hljs-built_in">Write-Output</span> <span class="hljs-string">"Ensuring the Chocolatey package manager is installed..."</span><span class="hljs-variable">$chocolateyBin</span> = <span class="hljs-string">"<span class="hljs-variable">$env:SystemDrive</span>\\chocolatey\\bin"</span><span class="hljs-variable">$chocInstalled</span> = Test-Path <span class="hljs-string">"<span class="hljs-variable">$chocolateyBin</span>\\cinst.bat"</span><span class="hljs-keyword">if</span> (<span class="hljs-operator">-not</span> <span class="hljs-variable">$chocInstalled</span>) {    <span class="hljs-built_in">Write-Output</span> <span class="hljs-string">"Chocolatey not found, installing..."</span>        <span class="hljs-variable">$installPs1</span> = ((<span class="hljs-built_in">new-object</span> net.webclient).DownloadString(<span class="hljs-string">'https://chocolatey.org/install.ps1'</span>))    <span class="hljs-built_in">Invoke-Expression</span> <span class="hljs-variable">$installPs1</span>    &amp; cmd.exe /C <span class="hljs-string">"SET PATH=%PATH%;<span class="hljs-variable">$chocolateyBin</span>"</span>        <span class="hljs-built_in">Write-Output</span> <span class="hljs-string">"Chocolatey installation complete."</span>} <span class="hljs-keyword">else</span> {    <span class="hljs-built_in">Write-Output</span> <span class="hljs-string">"Chocolatey was found at <span class="hljs-variable">$chocolateyBin</span> and won't be reinstalled."</span>}</span></code></pre>        <h3 ng-show="stepTemplate.Body.ActionType == 'Octopus.Email'" class="ng-hide">Email body</h3>        <p ng-show="stepTemplate.Body.ActionType == 'Octopus.Email'" class="tutorial ng-hide">          Steps based on the template will render the email body below.</p>        <pre ng-show="stepTemplate.Body.ActionType == 'Octopus.Email'" class="code overflow-ellipsis Octopus ng-hide hljs " highlight="Octopus"><code ng-transclude=""><span class="ng-scope ng-binding"></span></code></pre>        <p class="faint">Provided under the <a class="faint" href="https://github.com/OctopusDeploy/Library/blob/master/LICENSE">Apache License version 2.0</a>.</p>      </div>      <div class="column third">        <p class="tutorial">          To use this template in Octopus Deploy, copy the JSON below and paste it into the          <em>Library &gt; Step templates &gt; Import</em> dialog.</p>        <button type="button" class="button success full-width ng-isolate-scope" click-to-copy="stepTemplate.Body | toJson" on-copied="onCopied()" data-clipboard-text="{  &quot;Id&quot;: &quot;ActionTemplates-1&quot;,  &quot;Name&quot;: &quot;Chocolatey - Ensure Installed&quot;,  &quot;Description&quot;: &quot;Ensures that the Chocolatey package manager is installed on the system. The installer is downloaded from https://chocolatey.org if required.&quot;,  &quot;ActionType&quot;: &quot;Octopus.Script&quot;,  &quot;Version&quot;: 6,  &quot;Properties&quot;: {    &quot;Octopus.Action.Script.ScriptBody&quot;: &quot;Write-Output \\&quot;Ensuring the Chocolatey package manager is installed...\\&quot;\\$chocolateyBin = \\&quot;$env:SystemDrive\\\\chocolatey\\\\bin\\&quot;\$chocInstalled = Test-Path \\&quot;$chocolateyBin\\\\cinst.bat\\&quot;\\if (-not $chocInstalled) {\    Write-Output \\&quot;Chocolatey not found, installing...\\&quot;\    \    $installPs1 = ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))\    Invoke-Expression $installPs1\\    &amp; cmd.exe /C \\&quot;SET PATH=%PATH%;$chocolateyBin\\&quot;\    \    Write-Output \\&quot;Chocolatey installation complete.\\&quot;\} else {\    Write-Output \\&quot;Chocolatey was found at $chocolateyBin and won't be reinstalled.\\&quot;\}\&quot;  },  &quot;SensitiveProperties&quot;: {},  &quot;Parameters&quot;: [],  &quot;LastModifiedOn&quot;: &quot;2014-05-06T02:18:49.103+00:00&quot;,  &quot;LastModifiedBy&quot;: &quot;nblumhardt&quot;,  &quot;$Meta&quot;: {    &quot;ExportedAt&quot;: &quot;2014-05-06T02:18:51.022Z&quot;,    &quot;OctopusVersion&quot;: &quot;2.4.3.0&quot;,    &quot;Type&quot;: &quot;ActionTemplate&quot;  }}">Copy to clipboard</button>        <p class="faint full-width centered ng-hide" ng-show="copied"><strong>Copied!</strong></p>        <pre class="code overflow-ellipsis json hljs " highlight="json"><code ng-transclude=""><span class="ng-scope ng-binding">{  "<span class="hljs-attribute">Id</span>": <span class="hljs-value"><span class="hljs-string">"ActionTemplates-1"</span></span>,  "<span class="hljs-attribute">Name</span>": <span class="hljs-value"><span class="hljs-string">"Chocolatey - Ensure Installed"</span></span>,  "<span class="hljs-attribute">Description</span>": <span class="hljs-value"><span class="hljs-string">"Ensures that the Chocolatey package manager is installed on the system. The installer is downloaded from https://chocolatey.org if required."</span></span>,  "<span class="hljs-attribute">ActionType</span>": <span class="hljs-value"><span class="hljs-string">"Octopus.Script"</span></span>,  "<span class="hljs-attribute">Version</span>": <span class="hljs-value"><span class="hljs-number">6</span></span>,  "<span class="hljs-attribute">Properties</span>": <span class="hljs-value">{    "<span class="hljs-attribute">Octopus.Action.Script.ScriptBody</span>": <span class="hljs-value"><span class="hljs-string">"Write-Output \\"Ensuring the Chocolatey package manager is installed...\\"\\$chocolateyBin = \\"$env:SystemDrive\\\\chocolatey\\\\bin\\"\$chocInstalled = Test-Path \\"$chocolateyBin\\\\cinst.bat\\"\\if (-not $chocInstalled) {\    Write-Output \\"Chocolatey not found, installing...\\"\    \    $installPs1 = ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))\    Invoke-Expression $installPs1\\    &amp; cmd.exe /C \\"SET PATH=%PATH%;$chocolateyBin\\"\    \    Write-Output \\"Chocolatey installation complete.\\"\} else {\    Write-Output \\"Chocolatey was found at $chocolateyBin and won't be reinstalled.\\"\}\"</span>  </span>}</span>,  "<span class="hljs-attribute">SensitiveProperties</span>": <span class="hljs-value">{}</span>,  "<span class="hljs-attribute">Parameters</span>": <span class="hljs-value">[]</span>,  "<span class="hljs-attribute">LastModifiedOn</span>": <span class="hljs-value"><span class="hljs-string">"2014-05-06T02:18:49.103+00:00"</span></span>,  "<span class="hljs-attribute">LastModifiedBy</span>": <span class="hljs-value"><span class="hljs-string">"nblumhardt"</span></span>,  "<span class="hljs-attribute">$Meta</span>": <span class="hljs-value">{    "<span class="hljs-attribute">ExportedAt</span>": <span class="hljs-value"><span class="hljs-string">"2014-05-06T02:18:51.022Z"</span></span>,    "<span class="hljs-attribute">OctopusVersion</span>": <span class="hljs-value"><span class="hljs-string">"2.4.3.0"</span></span>,    "<span class="hljs-attribute">Type</span>": <span class="hljs-value"><span class="hljs-string">"ActionTemplate"</span>  </span>}</span>}</span></code></pre>        <p class="align-right"><a class="faint" href="https://github.com/OctopusDeploy/Library/commits/master/step-templates/chocolatey-ensure-installed.json">History Â»</a></p>      </div>    </div>    <div class="row clearfix">      <div class="column full">        <h3>Comments</h3>        <div class="comments ng-isolate-scope" thread="actiontemplate-chocolatey-ensure-installed">  <div id="disqus_thread"><iframe id="dsq-5" data-disqus-uid="5" allowtransparency="true" frameborder="0" tabindex="0" title="Disqus" style="width: 100% !important; border-top-style: none !important; border-right-style: none !important; border-bottom-style: none !important; border-left-style: none !important; border-width: initial !important; border-color: initial !important; overflow-x: hidden !important; overflow-y: hidden !important; height: 0px !important; " width="100%" src="http://disqus.com/embed/comments/?base=default&amp;disqus_version=085e566f&amp;f=octolibrary&amp;t_i=actiontemplate-chocolatey-ensure-installed&amp;t_u=http%3A%2F%2Flocalhost%3A4000%2F%23!!%2Fstep-template%2Factiontemplate-chocolatey-ensure-installed&amp;t_d=Octopus%20Deploy%20Library&amp;t_t=Octopus%20Deploy%20Library&amp;s_o=default#5"></iframe></div></div>      </div>    </div>  </div></section></div>  <footer>  <div class="container">    <div class="row clearfix">      <div class="column fourth">        <h5>Octopus Deploy Pty. Ltd.</h5>        <ul>          <li><a href="https://octopusdeploy.com/about">Company</a></li>          <li><a href="https://octopusdeploy.com/testimonials">Testimonials</a></li>          <li><a href="https://octopusdeploy.com/roadmap">Roadmap</a></li>          <li><a href="https://octopusdeploy.com/privacy">Privacy policy</a></li>        </ul>      </div>      <div class="column fourth">        <h5>Follow us</h5>        <ul>          <li><a href="https://twitter.com/OctopusDeploy" class="social social-twitter">@OctopusDeploy</a><br></li>          <li><a href="https://plus.google.com/102650558422902813929" class="social social-google google-plus">+Octopus Deploy</a></li>          <li><a href="http://feeds.feedburner.com/OctopusDeploy" class="social social-rss">Octopus Deploy Blog</a></li>        </ul>      </div>      <div class="column half">        <h5>About</h5>        <p>The Octopus Deploy Library is a way for users of Octopus Deploy to share useful code.</p>        <p>Need help? Feel free to contact the team via our <a href="https://help.octopusdeploy.com">support forum</a>.</p>      </div>    </div>  </div></footer>  <script async="" src="//www.google-analytics.com/analytics.js"></script><script>    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');    ga('create', 'UA-24461753-5', 'octopusdeploy.com');  </script>    <script type="text/javascript">    var disqus_shortname = 'octolibrary';    (function() {      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);    })();  </script>  <!-- inject:js -->  <script src="1-vendor.js"></script>  <script src="2-app.js"></script>  <script src="3-views.js"></script>  <script src="4-step-templates.js"></script>  <!-- endinject --></body></html>