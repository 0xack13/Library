<section class="step-template">
  <div class="container">
    <div class="row">
      <div class="column two-thirds">
        <h2>{{ stepTemplate.Name }}</h2>
        <p class="action-type">{{ stepTemplate.Body.ActionType }}</p>
        <markdown text="stepTemplate.Description"></markdown>

        <h3 ng-show="stepTemplate.Body.Parameters">Parameters</h3>
        <p ng-show="stepTemplate.Body.Parameters" class="tutorial">
          When steps based on the template are included in a project's deployment process, the parameters below can be set.</p>
        <step-template-parameter ng-repeat="parameter in stepTemplate.Body.Parameters track by parameter.Name" model="parameter"></step-template-parameter>

        <h3 ng-show="stepTemplate.Body.ActionType == 'Octopus.Script'">Script body</h3>
        <p ng-show="stepTemplate.Body.ActionType == 'Octopus.Script'" class="tutorial">
          Steps based on the template will execute the following <em>PowerShell</em> script.</p>
        <pre ng-show="stepTemplate.Body.ActionType == 'Octopus.Script'" class="code overflow-ellipsis" highlight="PowerShell">{{stepTemplate.Body.Properties['Octopus.Action.Script.ScriptBody']}}</pre>

        <h3 ng-show="stepTemplate.Body.ActionType == 'Octopus.Email'">Email body</h3>
        <p ng-show="stepTemplate.Body.ActionType == 'Octopus.Email'" class="tutorial">
          Steps based on the template will render the email body below.</p>
        <pre ng-show="stepTemplate.Body.ActionType == 'Octopus.Email'" class="code overflow-ellipsis" highlight="Octopus">{{stepTemplate.Body.Properties['Octopus.Action.Email.Body']}}</pre>

      </div>
      <div class="column third">
        <pre class="code overflow-ellipsis" highlight="json">{{stepTemplate.Body | toJson}}</pre>
        <p class="placeholder">This is where the copy-to-clipboard button will go.</p>
      </div>
    </div>
  </div>
</section>
